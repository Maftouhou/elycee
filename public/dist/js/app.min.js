"use strict";angular.module("elycee",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","LocalStorageModule"]).config(function(e,o){e.when("/",{templateUrl:"../app/views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/articles/:id",{templateUrl:"../app/views/single.html",controller:"SingleCtrl",controllerAs:"single"}).when("/about",{templateUrl:"../app/views/about.html",controller:"AboutCtrl",controllerAs:"about"}).when("/contact",{templateUrl:"../app/views/contact.html",controller:"ContactCtrl",controllerAs:"contact"}).when("/login",{templateUrl:"../app/views/login.html",controller:"LoginCtrl",controllerAs:"login"}).when("/dashboard",{templateUrl:"../app/views/dashboard.html",controller:"DashboardCtrl",controllerAs:"dashboard"}).otherwise({redirectTo:"/"}),o.setStorageType("cookies")}).animation(".transition",function(){return console.log(),{enter:function(e,o){console.log(e),TweenMax.from(e,1,{opacity:1,onComplete:o},0)},leave:function(e,o){TweenMax.to(e,1,{opacity:0,onComplete:o},0)}}}).directive("back",function(){return{restrict:"A",link:function(e,o,t){o.bind("click",function(){history.back(),e.$apply()})}}}).factory("userService",function(e,o){function t(){return!!o.get("XSRF-TOKEN","cookies")}function a(t,a,l,n){console.log(o),e.post("api/login",{username:t,password:a}).then(function(e){console.log(e),o.set("XSRF-TOKEN",e.data.token),l(e)},function(e){n(e)})}function l(){o.remove("XSRF-TOKEN","cookies")}function n(){return o.get("XSRF-TOKEN","cookies")}return{checkIfLoggedIn:t,login:a,logout:l,getCurrentToken:n}}).factory("commentService",function(e){return{get:function(){return e.get("api/articles/")},save:function(o,t,a,l){return console.log(o,t,a,l),e({method:"POST",url:"/comments",data:{content:o,post_id:t,status:a,title:l}})}}}),angular.module("elycee").controller("AboutCtrl",function(e,o,t){o.get("api/articles").success(function(o){e.posts=o,console.log(e.posts)}),e.val=function(){console.log(this.post.id),t.id=this.post.id},e.show=function(){$(".col_left .row").html('<div class="el" style="background-image:url(\'/uploads/images/'+this.post.url_thumbnail+"')\"></div>"),TweenLite.from(".col_left .row",1,{opacity:0,scale:1.1,ease:Expo.easeOut}),TweenLite.to(".col_left .row",1,{opacity:1,scale:1,ease:Expo.easeOut}),TweenLite.to(".col_left .new",1,{opacity:0,scale:1,ease:Expo.easeOut})},e.hide=function(){TweenLite.to(".col_left .row",1,{opacity:0,scale:1,ease:Expo.easeOut}),TweenLite.from(".col_left .new",1,{opacity:0,scale:1.1,ease:Expo.easeOut}),TweenLite.to(".col_left .new",1,{opacity:1,scale:1,ease:Expo.easeOut})},angular.element(document).ready(function(){console.log($(".el"))});const a=new TimelineMax({paused:!0,completed:!0});a.to(".col_right",1.7,{right:"0%",ease:Expo.easeOut},0),a.from(".info",1,{opacity:0,x:"10%",ease:Expo.easeOut},1.8),a.from(".row",1,{opacity:0,x:"10%",ease:Expo.easeOut},2),a.staggerTo(".row a",3.7,{opacity:0,scale:1.2},1,2),a.from(".col_left .new",1.7,{opacity:0,scale:1.2},2.2),a.from(".col_left h1",1,{opacity:0,x:"-10%",ease:Expo.easeOut},3.8),a.from(".col_left .mask",1,{opacity:0,x:"-10%",ease:Expo.easeOut},4),a.restart()}),angular.module("elycee").controller("ContactCtrl",function(){const e=new TimelineMax({paused:!0,completed:!0});e.from(".bg",1.7,{x:"100%",ease:Expo.easeOut},0),e.from(".row",1.7,{x:"100%",opacity:0,ease:Expo.easeOut},.2),e.restart()}),angular.module("elycee").controller("DashboardCtrl",["$scope","$http","$location","userService",function(e,o,t,a){e.out=function(){a.logout(),t.path("api/logout")};const l=new TimelineMax({paused:!0,completed:!0});l.to(".collapse",1.7,{left:"0%",ease:Expo.easeOut},0),l.staggerFrom(".collapse ul li a",1.2,{left:"-100%",opacity:0,ease:Expo.easeOut},.2,.8),l.staggerFrom(".panel.panel-default",1.2,{y:"100%",opacity:0,ease:Expo.easeOut},.2,.8),l.restart()}]),angular.module("elycee").controller("LoginCtrl",["$scope","$http","$location","userService",function(e,o,t,a){e.log=function(){a.login(e.username,e.password,function(e){t.path("/dashboard"),console.log(e)},function(e){alert("Something went wrong with the login process. Try again later!"),console.log(e)})},e.username="abel",e.password="pass",a.checkIfLoggedIn()&&t.path("/");const l=new TimelineMax({paused:!0,completed:!0});l.from(".bg",1.7,{x:"100%",ease:Expo.easeOut},0),l.from(".row",1.7,{x:"100%",opacity:0,ease:Expo.easeOut},.2),l.restart()}]),angular.module("elycee").controller("MainCtrl",function(e,o,t){o.get("api/articles").success(function(o){e.posts=o,console.log(e.posts)}),e.val=function(){console.log(this.post.id),t.id=this.post.id},e.show=function(){$(".col_left .row").html('<div class="el" style="background-image:url(\'/uploads/images/'+this.post.url_thumbnail+"')\"></div>"),TweenLite.from(".col_left .row",1,{opacity:0,scale:1.1,ease:Expo.easeOut}),TweenLite.to(".col_left .row",1,{opacity:1,scale:1,ease:Expo.easeOut}),TweenLite.to(".col_left .new",1,{opacity:0,scale:1,ease:Expo.easeOut}),console.log(this.post.url_thumbnail)},e.hide=function(){TweenLite.to(".col_left .row",1,{opacity:0,scale:1.1,ease:Expo.easeOut}),TweenLite.from(".col_left .new",1,{opacity:0,scale:1.1,ease:Expo.easeOut}),TweenLite.to(".col_left .new",1,{opacity:1,scale:1,ease:Expo.easeOut}),console.log(this.post)};const a=new TimelineMax({paused:!0,completed:!0});a.to(".col_right",1.7,{right:"0%",ease:Expo.easeOut},0),a.from(".info",1,{opacity:0,x:"10%",ease:Expo.easeOut},1.8),a.from(".row",1,{opacity:0,x:"10%",ease:Expo.easeOut},2),a.from(".col_left .new",1.7,{opacity:0,scale:1.2},2.2),a.from(".col_left h1",1,{opacity:0,x:"-10%",ease:Expo.easeOut},3.8),a.from(".col_left .mask",1,{opacity:0,x:"-10%",ease:Expo.easeOut},4),a.restart()}),angular.module("elycee").controller("SingleCtrl",function(e,o,t,a){var l=t.id;o.get("api/articles/"+l).success(function(o){e.post=o[0],e.comments=o[0].comment}),e.submitComment=function(){a.save(e.commentText,l,1,e.titleText).success(function(t){o.get("api/articles/"+l).success(function(o){e.comments=o[0].comment,console.log(o)})}).error(function(e){console.log("error ")})};const n=new TimelineMax({paused:!0,completed:!0});n.to(".col_right",1.7,{right:"0%",ease:Expo.easeOut},0),n.staggerFrom(".cat",1,{opacity:0,x:"10%",ease:Expo.easeOut},.2,2),n.from(".col_left .solo",1.7,{opacity:0,scale:1.2},2.2),n.to(".col_left .solo",1.7,{opacity:1,scale:1},2.2),n.from(".col_left h1",1,{opacity:0,x:"-10%",ease:Expo.easeOut},3.8),n.from(".col_left .mask",1,{opacity:0,x:"-10%",ease:Expo.easeOut},4),n.restart()});